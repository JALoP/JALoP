Import('*')

producer_lib_env = env.Clone()
producer_lib_env.Prepend(CPPPATH='#src/producer_lib/include:#src/lib_common/include:#src/producer_lib/src:#src/lib_common/src')
producer_lib_env.Append(CCFLAGS=producer_lib_env['openssl_cflags'])
producer_lib_env.Append(CCFLAGS=producer_lib_env['xerces_cflags'])

producer_lib_env.Append(LINKFLAGS=producer_lib_env['openssl_ldflags'])
producer_lib_env.Append(LINKFLAGS=producer_lib_env['xerces_ldflags'])

producer_lib = SConscript('src/SConscript', exports={'env':producer_lib_env})
SConscript('test/SConscript', exports={'env':producer_lib_env, 'all_tests':all_tests, 'lib_common':lib_common})
Return("producer_lib")
